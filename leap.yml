# Leap Cell serverless deployment configuration
name: websight-pro
runtime: nodejs20

# Environment variables
env:
  NODE_ENV: production

# Static file serving (main site)
static:
  - source: public
    target: /
  - source: index.html
    target: /index.html

# Serverless function for API
functions:
  - name: analyze
    handler: serverless.js
    timeout: 60s
    memory: 256MB
    events:
      - http:
          path: /api/analyze
          method: POST
      - http:
          path: /api/analyze
          method: OPTIONS

# Build configuration
build:
  commands:
    - npm install